---
layout: post
title:  "图解HTTP"
date:   2017-09-30 01:19:50
categories: 读书笔记
---

> Hypertext Transfer Protocol

- - - - -

- HTTP协议是什么？

- 为什么要学习HTTP协议？

- HTTP协议包含哪些东西？


# 为什么要学习HTTP协议？

    HTTP协议是Web技术的基础，理解HTTP协议能够*帮助我们快速理解各种技术原理*，同时能够帮助我们*解决日常工作中的各种问题*

## 帮助我们快速理解各种Web技术

近些年Web技术快速发展，但是究其根本，始终围绕着大量的基础概念和理论，HTTP协议便是其中重要的基础支柱之一。

深刻的理解HTTP协议的概念、主要内容，能够让我们*以不变应万变*，快速理解各种技术的背景、原理和解决方式。

例如：HTTP2.0究竟是什么？DNS是如何找到真实服务器的？RESTFUL接口应该如何定义？如何管理Web应用的缓存？

## 帮助我们解决日常工作中的问题

在日常工作中，我们面对各种稀奇古怪的需求和问题时，如果没有一定的理论支撑，通常会茫然不知所措或者难以找到解决方案。

了解协议本身的基本能力、交互过程、控制手段等等，能够帮助我们快速的*分析和解决*问题


例如：为何页面加载如此缓慢？修改的文件为何没有生效？服务器返回的302是什么意思？怎么提高网站的安全性？


# HTTP协议是什么？

想要理解一项技术是什么，最好的方式是搞清楚：*它的出现背景是什么*，*解决了什么问题*，*它是如何工作的*，*会怎么演进*


## HTTP协议的出现背景是什么？


1989年，随着计算机网络技术的发展，学术界希望希望能够借助网络来*共享和传输文档*。

大家希望能够通过*同一的语言*进行沟通和传输，于是出现了在传输层TCP/IP协议之上的应用层协议：HTTP协议


## HTTP协议解决了什么问题？


- HTTP协议用于客户端和服务器之间的通信 - 在HTTP协议中始终存在客户端和服务端的概念，两者是可以互换的

- 通过请求和响应的交换达成通信 - 每个请求总是从客户端发起，由服务端响应，请求和响应中包含控制信息、状态和内容。

- 通过统一资源标识符指定资源 

- 通过无状态设计保证可伸缩性 - 服务器不会记录请求过程，每个请求都是独立的，以此来保证协议的可伸缩性。

- 通过语义化动词告知服务器请求的意图 



- 通过持久连接节省流量 - TCP协议的频繁握手会导致流量的浪费，HTTP/1.0通过keep-alive头建立持久连接，以此减轻服务器负担和提高传输效率。在HTTP/1.1中，默认采用长连接。

- 使用Cookie保存身份信息 - 由服务器生成cookie并返回给客户端，此后客户端每次请求中都携带cookie信息，以此帮助服务端识别客户端身份。


## 与HTTP协议相关的概念有哪些？

- TCP/IP 协议 - 互联网相关网络协议的合集，用来进行网络节点之间的通信协商、控制管理以及数据传输。


![](/images/2017-09-30-01-18-58.jpg)



- 负责传输的IP协议 - 位于网络层，用来把各种数据报传输给对方，通过IP地址和MAC地址来指定传输目标。

- 用来查询MAC地址的ARP协议 - 基于IP地址反查出目标的MAC地址

- 确保可靠性的TCP协议 - 位于传输层，提供可靠的字节流服务。为了支撑大数据量的分组传输，使用三次握手机制保证数据最终被正确送达。



- 负责域名解析的DNS服务 - 位于应用层，提供域名到IP地址之间的映射服务。提供给用户容易记忆的域名地址，通过向DNS服务器及进行查询，后去实际可以访问的IP地址。



- 统一资源标识符URI - 由某个协议方案表示的资源的定位标识符，例如：https://user:pass@www.example.com:80/dir/index.html?uid=1#ch1，当中包含了网络协议、认证信息、服务器地址、端口、文件路径、查询参数和片段标识符


- 统一资源定位符URL - 访问Web页面时需要输入的地址


## HTTP协议是如何工作的？


![](/images/2017-09-30-01-19-18.jpg)



## 其他问题

- TCP/IP协议为什么要分层？每一层都保持专注和独立发展，可以独立的进行优化和替换，相互间通过标准接口进行交互，减少各个分层之间的依赖关系。

- URI和URL有什么区别？


![](/images/2017-09-30-01-19-33.jpg)


- 无状态性是如何保证伸缩性的？无状态保证各个服务请求之间没有依赖和关联，使水平伸缩才有可能实施。请求信息可以随时通过负载均衡技术分发到分布式集群中的任意节点上。

- - - - -